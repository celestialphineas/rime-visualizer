<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">  
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script>
    (function(d) {
      var config = {
        kitId: 'txy4lhi',
        scriptTimeout: 3000,
        async: true
      },
      h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
    })(document);
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <title>韻色 demo</title>
</head>
<body>
  <div class="row container" style="max-width:800px">
    <div style="padding:40px 0 20px 0">
      <h3 class="header song-trad text-bold" style="display:inline" lang="kr">韻色<sup>demo</sup></h2>
      <a class="waves-effect waves-light btn-floating btn-large black modal-trigger" href="#input-modal" style="float:right">
        <span class="song-trad text-bold" lang="kr" style="font-size:20pt">詩</span>
      </a>
    </div>
    <div id="color-controller" class="hidden">
      <ul id="controller-tabs" class="tabs">
        <li class="tab"><a onclick="window.currentCategory='consonant'" href="#consonant-page">声</a></li>
        <li class="tab"><a onclick="window.currentCategory='hu'" href="#hu-page">呼</a></li>
        <li class="tab"><a class="active" onclick="window.currentCategory='rime'" href="#rime-page">韻</a></li>
        <li class="tab"><a onclick="window.currentCategory='coda'" href="#coda-page">尾</a></li>
        <li class="tab"><a onclick="window.currentCategory='tone'" href="#tone-page">調</a></li>
      </ul>
      <div id="consonant-page" class="control-page"><div class="control-content">
        <div class="row">
          <div class="row col s1">
            <a class="blur-btn waves-effect waves-dark btn-floating btn-small white" style="margin-top:10px;">
                <i class="material-icons drop-down-icon" style="color:#555">blur_off</i>
            </a>
          </div>
          <div class="row col s11">
            <a id="toggle-consonant-b"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>玻</span></a>
            <a id="toggle-consonant-p"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>坡</span></a>
            <a id="toggle-consonant-m"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>摸</span></a>
            <a id="toggle-consonant-f"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>佛</span></a>
            <a id="toggle-consonant-d"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>得</span></a>
            <a id="toggle-consonant-t"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>特</span></a>
            <a id="toggle-consonant-n"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>訥</span></a>
            <a id="toggle-consonant-l"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>勒</span></a>
            <a id="toggle-consonant-g"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>哥</span></a>
            <a id="toggle-consonant-k"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>科</span></a>
            <a id="toggle-consonant-h"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>喝</span></a>
            <a id="toggle-consonant-j"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>基</span></a>
            <a id="toggle-consonant-q"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>欺</span></a>
            <a id="toggle-consonant-x"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>希</span></a>
            <a id="toggle-consonant-zh" class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>知</span></a>
            <a id="toggle-consonant-ch" class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>蚩</span></a>
            <a id="toggle-consonant-sh" class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>詩</span></a>
            <a id="toggle-consonant-r"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>日</span></a>
            <a id="toggle-consonant-z"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>資</span></a>
            <a id="toggle-consonant-c"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>雌</span></a>
            <a id="toggle-consonant-s"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>思</span></a>
            <a id="toggle-consonant-0"  class="toggle-btn toggle-consonant btn-flat waves-effect waves-dark col s2 m1"><span>Ø</span></a>
          </div>
        </div>
      </div></div>
      <div id="hu-page" class="control-page"><div class="control-content">
        <div class="row">
          <div class="row col s1">
            <a class="blur-btn waves-effect waves-dark btn-floating btn-small white" style="margin-top:10px;">
                <i class="material-icons drop-down-icon" style="color:#555">blur_off</i>
            </a>
          </div>
          <div class="row col s11">
            <a id="toggle-hu-kai" class="toggle-btn toggle-hu btn-flat waves-effect waves-dark col s2 m1"><span>開</span></a>
            <a id="toggle-hu-qi"  class="toggle-btn toggle-hu btn-flat waves-effect waves-dark col s2 m1"><span>齊</span></a>
            <a id="toggle-hu-he"  class="toggle-btn toggle-hu btn-flat waves-effect waves-dark col s2 m1"><span>合</span></a>
            <a id="toggle-hu-cuo" class="toggle-btn toggle-hu btn-flat waves-effect waves-dark col s2 m1"><span>撮</span></a>
          </div>
        </div>
      </div></div>
      <div id="rime-page" class="control-page"><div class="control-content">
        <div class="row">
          <div class="row col s1">
            <a class="blur-btn waves-effect waves-dark btn-floating btn-small white" style="margin-top:10px;">
                <i class="material-icons drop-down-icon" style="color:#555">blur_off</i>
            </a>
          </div>
          <div class="row col s11">
            <a id="toggle-rime-ma"   class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>麻</span></a>
            <a id="toggle-rime-bo"   class="toggle-btn on toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>波</span></a>
            <a id="toggle-rime-ge"   class="toggle-btn on toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>歌</span></a>
            <a id="toggle-rime-jie"  class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>皆</span></a>
            <a id="toggle-rime-zhi"  class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>支</span></a>
            <a id="toggle-rime-er"   class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>兒</span></a>
            <a id="toggle-rime-qi"   class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>齊</span></a>
            <a id="toggle-rime-wei"  class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>微</span></a>
            <a id="toggle-rime-kai"  class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>開</span></a>
            <a id="toggle-rime-mu"   class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>模</span></a>
            <a id="toggle-rime-yu"   class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>魚</span></a>
            <a id="toggle-rime-hou"  class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>侯</span></a>
            <a id="toggle-rime-hao"  class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>豪</span></a>
            <a id="toggle-rime-han"  class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>寒</span></a>
            <a id="toggle-rime-hen"  class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>痕</span></a>
            <a id="toggle-rime-tang" class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>唐</span></a>
            <a id="toggle-rime-geng" class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>庚</span></a>
            <a id="toggle-rime-dong" class="toggle-btn toggle-rime btn-flat waves-effect waves-dark col s2 m1"><span>東</span></a>
          </div>
        </div>
      </div></div>
      <div id="coda-page" class="control-page"><div class="control-content">
        <div class="row">
          <div class="row col s1">
            <a class="blur-btn waves-effect waves-dark btn-floating btn-small white" style="margin-top:10px;">
                <i class="material-icons drop-down-icon" style="color:#555">blur_off</i>
            </a>
          </div>
          <div class="row col s11">
            <a id="toggle-coda-0"  class="toggle-btn toggle-coda btn-flat waves-effect waves-dark col s2 m1"><span>Ø</span></a>
            <a id="toggle-coda-i"  class="toggle-btn toggle-coda btn-flat waves-effect waves-dark col s2 m1"><span>i</span></a>
            <a id="toggle-coda-u"  class="toggle-btn toggle-coda btn-flat waves-effect waves-dark col s2 m1"><span>u</span></a>
            <a id="toggle-coda-n"  class="toggle-btn toggle-coda btn-flat waves-effect waves-dark col s2 m1"><span>n</span></a>
            <a id="toggle-coda-ng" class="toggle-btn toggle-coda btn-flat waves-effect waves-dark col s2 m1"><span>ŋ</span></a>
            <a id="toggle-coda-r"  class="toggle-btn toggle-coda btn-flat waves-effect waves-dark col s2 m1"><span>r</span></a>
          </div>
        </div>
      </div></div>
      <div id="tone-page" class="control-page"><div class="control-content">
        <div class="row">
          <div class="row col s1">
            <a class="blur-btn waves-effect waves-dark btn-floating btn-small white" style="margin-top:10px;">
                <i class="material-icons drop-down-icon" style="color:#555">blur_off</i>
            </a>
          </div>
          <div class="row col s11">
            <a id="toggle-tone-1"  class="toggle-btn toggle-tone btn-flat waves-effect waves-dark col s2 m1"><span>陰平</span></a>
            <a id="toggle-tone-2"  class="toggle-btn toggle-tone btn-flat waves-effect waves-dark col s2 m1"><span>陽平</span></a>
            <a id="toggle-tone-3" class="toggle-btn toggle-tone btn-flat waves-effect waves-dark col s2 m1"><span>上</span></a>
            <a id="toggle-tone-4" class="toggle-btn toggle-tone btn-flat waves-effect waves-dark col s2 m1"><span>去</span></a>
            <a id="toggle-tone-0" class="toggle-btn toggle-tone btn-flat waves-effect waves-dark col s2 m1"><span>輕</span></a>
          </div>
        </div>
      </div></div>
    </div>
    <div style="height:0;text-align:center;">
      <a id="drop-panel-button" class="btn-floating btn-small waves-effect waves-dark white pulse" style="top:-16.2px">
        <i id="drop-panel-icon" class="material-icons drop-down-icon" style="color:#555">arrow_drop_down</i>
      </a>
      <script>
        if(!$('#color-controller').hasClass('hidden')) $('#drop-panel-icon').addClass('up');
        // Toggling controller
        $('#drop-panel-button').on('click', function () {
          $('#drop-panel-button').removeClass('pulse');
          if($('#color-controller').hasClass('hidden')) {
            $('#color-controller').removeClass('hidden');
            $('#drop-panel-icon').addClass('up');
          } else {
            $('#color-controller').addClass('hidden');
            $('#drop-panel-icon').removeClass('up');
          }
        })
      </script>
    </div>
    <div id="head-separator"></div>
    <div id="input-modal" class="modal modal-fixed-footer">
      <div class="modal-content">
        <div class="input-field">
          <input value=" " id="title-input" type="text" class="validate" style="color:black">
          <label for="title-input">題名</label>
        </div>
        <div class="input-field">
          <textarea id="text-input" class="materialize-textarea" style="color:black"></textarea>
          <label for="text-input">正文</label>
        </div>
      </div>
      <div class="modal-footer">
        <a href="javascript:updatePoem()" class="modal-close waves-effect waves-dark btn-flat">
          <i class="material-icons left">check</i>好
        </a>
      </div>
    </div>
    <h4 id="poem-title" class="song text-bold text-looser">題名</h4>
    <div id="poem-container" class="song text-medium"></div>
  </div>
  <footer class="page-footer black">
    <div class="container">
      <div class="row">
        <div class="col l6 s12">
          <h5 class="white-text">韻色</h5>
          <p class="grey-text text-lighten-4">漢語音韻可視化demo，目前僅支持普通話</p>
          <p class="grey-text text-lighten-4">漢字音數據來自<a class="grey-text" href="https://github.com/MaigoAkisame/MCPDict">“漢字古今中外讀音查詢”</a></p>
        </div>
        <div class="col l4 offset-l2 s12">
          <h5 class="white-text">鏈接</h5>
          <ul>
            <li><a class="grey-text text-lighten-3" href="https://github.com/celestialphineas/rime-visualizer">GitHub Repo</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="footer-copyright">
      <div class="container">
      © 2019
      <a class="grey-text text-lighten-4 right" href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>
      </div>
    </div>
  </footer>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="js/trad-or-simp.js"></script>
<script src="js/style-manager.js"></script>
<script src="js/index.js"></script>
<script>
M.AutoInit();
(function() {
  $('#controller-tabs').tabs({ swipeable: true });
  // Toggle button behavior
  $('.toggle-btn').on('click', function() {
    var object = $(this);
    if(object.hasClass('on')) object.removeClass('on');
    else object.addClass('on');
  });
  window.blurStyle = false;
  $('.blur-btn').on('click', function() {
    var objects = $('.blur-btn i');
    if(objects[0].innerHTML === 'blur_off') {
      window.blurStyle = true;
      objects.text('blur_on');
    } else {
      window.blurStyle = false;
      objects.text('blur_off');
    }
  })
})();
</script>
<style>
html, body { height:100%; margin:0; }
body {
  display: flex; 
  flex-direction: column;
  font-family: -apple-system, "Noto Sans", "Helvetica Neue", Helvetica, "Nimbus Sans L", Arial, "Liberation Sans", "PingFang SC", "Hiragino Sans GB", "Noto Sans CJK SC", "Source Han Sans SC", "Source Han Sans CN", "Microsoft YaHei", "Wenquanyi Micro Hei", "WenQuanYi Zen Hei", "ST Heiti", SimHei, "WenQuanYi Zen Hei Sharp", sans-serif;
}
footer {
  margin-top: auto;
  opacity: 0;
  transition: all 0.5s;
}
footer:hover {
  opacity: 1;
}

@media screen and (max-width: 600px) {
  .mobile-hide {
    visibility: hidden;
  }
}

.song, .song-trad {
  font-family: source-han-serif-korean, serif;
  font-weight: 500;
  font-style: normal;
}
.text-medium {
  font-weight: 500;
}
.text-bold {
  font-weight: 700;
}
.text-loose {
  letter-spacing: 0.1em;
}
.text-looser {
  letter-spacing: 0.25em;
}

#poem-title {
  margin: 20pt 2pt;
  transform: scale(1, 1.02);
}
#poem-container {
  font-size: 20pt;
  letter-spacing: 6pt;
}
.hanzi-box {
  line-height: 20pt;
  letter-spacing: 0pt;
  transform: scale(1, 1.1) skew(0deg, -0.6deg);
  width: 24pt;
  height: 22pt;
  padding: 1pt 2pt;
  margin: 0.3em 1pt;
  display: inline-block;
  background: transparent;
  border-radius: 5px;
  transition: all 0.5s;
}
@media screen and (max-width: 600px) {
  #poem-title {
    font-size: 16pt;
  }
  #poem-container {
    font-size: 12pt;
    letter-spacing: 2.5pt;
  }
  .hanzi-box {
    line-height: 12pt;
    letter-spacing: 0pt;
    width: 14pt;
    height: 14pt;
    padding: 1pt 1pt;
    margin: 0.3em 0.5pt;
  }
}

#color-controller {
  width: 100%;
  height: 150px;
  border-radius: 20px;
  z-index: -10;
  transition: all 0.5s;
  opacity: 1;
}
@media screen and (max-width: 600px) {
  #color-controller {
    height: 250px;
  }
}
#color-controller.hidden {
  height: 0;
  opacity: 0;
}
.control-content {
  width: 100%;
  height: 200px;
  padding: 10px;
}

#head-separator {
  height: 10px;
  background: radial-gradient(ellipse at 25% 0%, rgba(0,0,0,0.35) 0%,rgba(0,0,0,0) 25%), radial-gradient(ellipse at 70% 0%, rgba(0,0,0,0.15) 0%,rgba(0,0,0,0) 35%);
  box-shadow: inset 0 7px 5px -10px #000000AA;
}

.drop-down-icon{
  transition: all 0.5s;
}

.drop-down-icon.up {
  transform: rotate(180deg)
}

.tabs .tab a {
  color: #00000066;
}
.tabs .tab a:hover, .tabs .tab a.active {
  color: black;
}
.tabs .indicator {
  background-color: #00000066;
}
.tabs .tab a:focus, .tabs .tab a:focus.active {
  background-color: #00000010;
}

.toggle-btn {
  font-size: 12pt;
  text-align: center;
  margin: 4px 0px;
}
.toggle-btn:not(.on) {
  transition: all 0.5s;
  background-color: transparent;
}
</style>
<style id="rime-style">
</style>
</html>